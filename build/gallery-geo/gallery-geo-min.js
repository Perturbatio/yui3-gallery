YUI.add("gallery-geo",function(D){var B="http://www.geoplugin.net/json.gp?jsoncallback=";function A(F,E){navigator.geolocation.getCurrentPosition(function(G){F.call(E,{success:true,coords:{latitude:G.coords.latitude,longitude:G.coords.longitude,accuracy:G.coords.accuracy,altitude:G.coords.altitude,altitudeAccuracy:G.coords.altitudeAccuracy,heading:G.coords.heading,speed:G.coords.speed},timestamp:G.timestamp,source:"native"});},function(G){if(G.code==1){F.call(E,{success:false,denied:true});}else{getCurrentPositionByGeoIp(F,E);}});}function C(F,E){D.jsonp(B,{format:function(G,H){return G+H;},on:{success:function(G){F.call(E,{success:true,coords:{latitude:parseFloat(G.geoplugin_latitude),longitude:parseFloat(G.geoplugin_longitude),accuracy:Infinity},timestamp:+new Date(),source:"geoplugin"});},failure:function(){F.call(E,{success:false});}}});}D.Geo={getCurrentPosition:navigator.geolocation?A:C};},"@VERSION@",{requires:["jsonp"]});